<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Mass Gainer | YOUNGKH WHEY</title>
  <!-- Icons (Font Awesome) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="phonggym.css">
</head>
<body>

  <!-- HEADER -->
 <header class="site-header">
    <div class="header-inner">

      <!-- ==== LOGO + DANH MỤC ==== -->
      <div class="left-block">
        <div class="logo-catalog">
          <a href="TrangChu.html" class="brand">
            <img src="/IMG/logo1.png" alt="logo" />
          </a>
          <div class="catalog-btn"><i class="fa fa-bars"></i> Danh Mục Sản Phẩm</div>
        </div>
      </div>

      <!-- ==== THANH TÌM KIẾM ==== -->
      <div class="center-block">
        <div class="search">
          <input id="searchInput" type="search" placeholder="Tìm kiếm bài viết hoặc thông tin..." autocomplete="off">
          <button id="searchBtn">Tìm Kiếm</button>
        </div>
      </div>

      <!-- ==== TÀI KHOẢN / YÊU THÍCH / GIỎ HÀNG ==== -->
      <div class="right-block">
        <button class="icon-btn"><i class="fa-regular fa-user"></i><span> Tài Khoản</span></button>
        <button class="icon-btn"><i class="fa-regular fa-heart"></i></button>
        <div id="cartBtn" class="cart icon-btn"><i class="fa-solid fa-cart-shopping"></i><span id="cartCount">0</span></div>
      </div>

    </div>
  </header>

  <!-- ====== GIỎ HÀNG ====== -->
  <aside id="cartPanel" class="cart-panel hidden">
    <div class="cart-head">
      <h3>Giỏ hàng</h3>
      <button id="closeCart" class="icon-btn"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div id="cartItems" class="cart-items"></div>
    <div class="cart-foot">
      <div>Tổng: <strong id="cartTotal">0₫</strong></div>
      <button id="checkoutBtn" class="btn-primary">Thanh toán</button>
    </div>
  </aside>

  <!-- MAIN -->
  <main class="container">
    <aside class="sidebar">
      <h4>Bộ lọc</h4>

      <div class="filter-block">
        <h5>Trạng thái tồn kho</h5>
        <label><input type="checkbox" id="filter-instock"> Còn Hàng</label><br>
        <label><input type="checkbox" id="filter-outstock"> Hết Hàng</label>
      </div>

      <div class="filter-block">
        <h5>Khoảng giá</h5>
        <div class="price-range">
          <input type="number" id="priceMin" placeholder="Từ" style="width:45%;"> -
          <input type="number" id="priceMax" placeholder="Đến" style="width:45%;">
        </div>
        <small class="muted">Giá cao nhất hiện là <strong id="priceMaxLabel">4.316.000₫</strong></small>
      </div>

      <div class="filter-block">
        <h5>Hãng</h5>
        <div class="brand-list">
          <label><input type="checkbox" class="brand-checkbox" value="AMIX"> AMIX</label><br>
          <label><input type="checkbox" class="brand-checkbox" value="APPLIED NUTRITION"> APPLIED NUTRITION</label><br>
          <label><input type="checkbox" class="brand-checkbox" value="BIOTECH USA"> BIOTECH USA</label><br>
          <label><input type="checkbox" class="brand-checkbox" value="RULE1"> RULE1</label>
        </div>
      </div>

      <div class="filter-block">
        <button id="applyFilters" class="btn-primary">Áp dụng lọc</button>
        <button id="clearFilters" class="btn-outline">Xóa lọc</button>
      </div>
    </aside>

    <section class="products">
      <div class="products-head" style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
        <div style="flex:1;min-width:260px">
          <div class="breadcrumb" style="color:#64748b;font-size:13px;margin-bottom:6px">Trang Chủ / Mass</div>
          <h2 style="margin:0">Sản phẩm Mass</h2>
          <div class="result-count muted" id="resultCount">0 Sản Phẩm</div>
        </div>

        <div style="display:flex;align-items:center;gap:12px">
          <div class="view-controls" title="Chọn kiểu hiển thị">
            <button class="icon-btn"><i class="fa-solid fa-table-cells-large"></i></button>
            <button class="icon-btn"><i class="fa-solid fa-border-all"></i></button>
            <button class="icon-btn"><i class="fa-solid fa-list"></i></button>
          </div>

          <div class="sort-controls">
            <label>Sắp xếp theo:</label>
            <select id="sortSelect">
              <option value="featured">Featured</option>
              <option value="price-asc">Giá: thấp → cao</option>
              <option value="price-desc">Giá: cao → thấp</option>
            </select>
          </div>
        </div>
      </div>
      <div id="productGrid" class="product-grid"></div>
    </section>
  </main>

<footer class="site-footer">
    <div class="footer-top">
      <div class="ft-icons">
        <div class="ft-icon"><i class="fa-solid fa-truck-fast"></i>
          <h5>HỖ TRỢ PHÍ SHIP</h5>
          <p>100% Hỗ Trợ Toàn Quốc</p>
        </div>
        <div class="ft-icon"><i class="fa-solid fa-tag"></i>
          <h5>GIÁ NIÊM YẾT</h5>
          <p>100% Giá Niêm Yết</p>
        </div>
        <div class="ft-icon"><i class="fa-solid fa-headset"></i>
          <h5>TRUNG TÂM CHĂM SÓC</h5>
          <p>Hỗ Trợ và Tư Vấn 24/7</p>
        </div>
        <div class="ft-icon"><i class="fa-solid fa-rotate-left"></i>
          <h5>CHÍNH SÁCH TRẢ HÀNG</h5>
          <p>Đổi/Trả Hàng Miễn Phí</p>
        </div>
      </div>

      <div class="footer-cols">
        <div class="ft-col">
          <h4>GIỚI THIỆU</h4>
          <ul>
            <li>Giới Thiệu Công Ty</li>
            <li>Thông Tin Liên Hệ</li>
            <li>Tin Tuyển Dụng</li>
            <li>Kiểm Tra Đơn hàng</li>
          </ul>
        </div>

        <div class="ft-col">
          <h4>TÍCH ĐIỂM</h4>
          <ul>
            <li>Cách Tích Điểm</li>
            <li>Thành Viên VIP</li>
          </ul>
        </div>

        <div class="ft-col">
          <h4>CHI NHÁNH 1</h4>
          <p>Liên Hệ: 0901 415 067</p>
          <p>123 Đường Mới, P.1, Q.1, TP.HCM</p>
        </div>

        <div class="ft-col">
          <h4>CHI NHÁNH 2</h4>
          <p>Liên Hệ: 0901 315 067</p>
          <p>285/66 Cách Mạng Tháng Tám, P.12, Q.10, TP.HCM</p>
        </div>

        <div class="ft-col">
          <h4>CHÍNH SÁCH MUA HÀNG</h4>
          <ul>
            <li>Chính sách bảo mật</li>
            <li>Chính sách giao hàng</li>
            <li>Chính sách đổi trả</li>
            <li>Phản hồi chất lượng phục vụ</li>
          </ul>
        </div>
      </div>

      <div class="footer-extras">
        <div class="social">
          <h5>THEO DÕI SHOP TẠI:</h5>
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
        </div>

        <div class="tax">
          <h5>MÃ SỐ THUẾ:</h5>
          <div>3603416620</div>
          <div style="margin-top:6px; font-weight:700">CÔNG TY TNHH NHỊ GIA NGUYỄN</div>
          <div>6/3 Kp.1, P. Tân Hòa, Tp Biên Hòa, Tỉnh Đồng Nai</div>
        </div>

        <div class="bct">
          <h5>ĐÃ THÔNG BÁO</h5>
          <img src="../IMG/bocongthuong.png" alt="Đã thông báo Bộ Công Thương" style="max-width:140px;">
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      <div>© 2025 YOUNGKH WHEY</div>
      <div>Đăng ký: 2/11/2025</div>
    </div>
  </footer>
  <!-- ====== JS ====== -->
  <script src="phonggym.js"></script>
  <script>
  // Sidebar filter wiring for Mass category
    document.addEventListener('DOMContentLoaded', () => {
      const applyBtn = document.getElementById('applyFilters');
      const clearBtn = document.getElementById('clearFilters');
      const resultLabel = document.getElementById('resultCount');

      function getSortValue(){ const s = document.getElementById('sortSelect'); return s ? s.value : 'featured'; }

      function applyFilters() {
        let arr = (products || []).filter(p => p.category === 'Mass Gainer');

        const instock = document.getElementById('filter-instock').checked;
        const outstock = document.getElementById('filter-outstock').checked;
        if (instock && !outstock) arr = arr.filter(p => p.stock !== false);
        if (!instock && outstock) arr = arr.filter(p => p.stock === false);

        const min = parseInt(document.getElementById('priceMin').value) || null;
        const max = parseInt(document.getElementById('priceMax').value) || null;
        if (min) arr = arr.filter(p => p.price >= min);
        if (max) arr = arr.filter(p => p.price <= max);

        const checkedBrands = Array.from(document.querySelectorAll('.brand-checkbox:checked')).map(b => b.value.toLowerCase());
        if (checkedBrands.length) {
          arr = arr.filter(p => checkedBrands.some(b => p.title.toLowerCase().includes(b)));
        }

        const sort = getSortValue();
        if (sort === 'price-asc') arr.sort((a,b)=>a.price-b.price);
        if (sort === 'price-desc') arr.sort((a,b)=>b.price-a.price);

        renderProducts(arr);
        if (resultLabel) resultLabel.textContent = `${arr.length} Sản Phẩm`;
      }

      function clearFilters() {
        document.getElementById('filter-instock').checked = false;
        document.getElementById('filter-outstock').checked = false;
        document.getElementById('priceMin').value = '';
        document.getElementById('priceMax').value = '';
        document.querySelectorAll('.brand-checkbox').forEach(b=>b.checked = false);
  const total = (products || []).filter(p => p.category === 'Mass Gainer').length;
  loadProductsByCategory('Mass Gainer');
        if (resultLabel) resultLabel.textContent = `${total} Sản Phẩm`;
      }

      applyBtn?.addEventListener('click', applyFilters);
      clearBtn?.addEventListener('click', clearFilters);
      const sortSelect = document.getElementById('sortSelect');
      sortSelect?.addEventListener('change', () => applyFilters());

      setTimeout(()=>{
  const initial = (products || []).filter(p => p.category === 'Mass Gainer');
  if (resultLabel) resultLabel.textContent = `${initial.length} Sản Phẩm`;
  // initial render for this listing page
  loadProductsByCategory('Mass Gainer');
      }, 80);
    });
  </script>
</body>
</html>
